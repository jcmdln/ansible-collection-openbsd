# SPDX-License-Identifier: ISC

image: openbsd/latest

packages:
  - python3
  - py3-pip
  - py3-wheel

sources:
  - https://git.sr.ht/~jcmdln/openbsd-run

tasks:
  - prepare: |
      python3 -m pip install --progress-bar off --user poetry>=1.1
  - lint: |
      cd openbsd-run
      ~/.local/bin/poetry install --no-root
      ~/.local/bin/poetry run tox
