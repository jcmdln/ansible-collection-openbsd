# SPDX-License-Identifier: ISC

[flake8]
ignore =
    D100, # Missing docstring in public module
    D101, # Missing docstring in public class
    D102, # Missing docstring in public method
    D103, # Missing docstring in public function
    D104, # Missing docstring in public package
    D107, # Missing docstring in __init__
    D200, # One-line docstring should fit on one line with quotes
    D202, # No blank lines allowed after function docstring
    D212, # Multi-line docstring summary should start at the first line
    W503, # Line break before binary operator

[mypy]
ignore_missing_imports = true

[tox:tox]
envlist =
    bandit
    flake8
    mypy
ignore_basepython_conflict = true
isolated_build = true
minversion = 3.23.1
skip_missing_interpreters = true

[testenv]
basepython = python3
setenv =
    PYTHONDONTWRITEBYTECODE=true
    PYTHONPYCACHEPREFIX=/tmp
    PYTHONUNBUFFERED=true
skip_install = true

[testenv:bandit]
commands =
    bandit --version
    bandit --quiet -r openbsd_run/
deps =
    bandit==1.7.0

[testenv:flake8]
commands =
    flake8 --version
    flake8 openbsd_run/
deps =
    black==21.6b0
    flake8==3.9.2
    flake8-black==0.2.1
    flake8-docstrings==1.6.0
    flake8-isort==4.0.0
    mccabe==0.6.1
    pyflakes==2.3.1
    pycodestyle==2.7.0
    pydocstyle==6.1.1
    rope==0.19.0

[testenv:mypy]
commands =
    mypy --version
    mypy openbsd_run/
deps =
    mypy==0.910
    types-pyyaml==5.4.3
